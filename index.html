<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.0/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip-utils/0.1.0/jszip-utils.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsstore/dist/jsstore.worker.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsstore/dist/jsstore.min.js"></script>
    <script>
      function exec() {
          JSZipUtils.getBinaryContent('/test.zip', function (err, data) {
              if (err) {
                  throw err; // or handle err
              }

              JSZip.loadAsync(data).then(function (zip) {

                  console.log(data);
                  var enc = new TextDecoder("utf-8");
                  console.log(enc.decode(data));

                  return zip.file("test.txt").async("string");
              }).then(function (string) {
                  console.log(string)
              });
          });
      }
      
      function execDb() {
      
        var connection = new JsStore.Connection(new Worker('https://cdn.jsdelivr.net/npm/jsstore/dist/jsstore.worker.min.js'));

        var dbName ='JsStore_Demo';
        var tblProduct = {
            name: 'Product',
            columns: {
                // Here "Id" is name of column 
                id:{ primaryKey: true, autoIncrement: true },
                itemName:  { notNull: true, dataType: "string" },
                price:  { notNull: true, dataType: "number" },
                quantity : { notNull: true, dataType: "number" }
            }
        };
        var database = {
            name: dbName,
            tables: [tblProduct]
        }
        const isDbCreated = await connection.initDb(database);
        if(isDbCreated === true){
            console.log("db created");
            // here you can prefill database with some data
        }
        else {
            console.log("db opened");
        }
      }
      
     </script>
  </head>
  <body onload="exec();execDb();">
    <h1>TEST INDEX</h1>
  </body>
</html>
